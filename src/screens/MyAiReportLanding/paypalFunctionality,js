// paypalFunctionality.js
export const handlePayPalButtonClick = () => {
  // Add your functionality logic here
  console.log("PayPal button clicked");

  // Example: dynamically load PayPal script and render buttons
  const paypalContainer = document.getElementById("paypal-button-container");
  if (!paypalContainer) {
    console.error("PayPal container not found.");
    return;
  }

  // Clear the container to avoid duplicate buttons
  paypalContainer.innerHTML = "";

  const script = document.createElement("script");
  script.src = "https://www.paypal.com/sdk/js?client-id=AX0vNV67manTkTJOnbNU042IrEFT_Zu2OY1D_z2eBn5aiRG7opZLhhjb3TCwljMtYw5HWXKFEmqFRy1L&currency=USD";
  script.async = true;
  script.onload = () => {
    if (window.paypal) {
      window.paypal
        .Buttons({
          createOrder: (data, actions) => {
            return actions.order.create({
              purchase_units: [
                {
                  amount: {
                    value: "30.00", // Payment amount
                  },
                },
              ],
            });
          },
          onApprove: (data, actions) => {
            return actions.order.capture().then((details) => {
              alert(`Transaction completed by ${details.payer.name.given_name}`);
            });
          },
          onError: (err) => {
            console.error("PayPal Checkout Error:", err);
          },
        })
        .render(paypalContainer);
    }
  };

  document.body.appendChild(script);
};
